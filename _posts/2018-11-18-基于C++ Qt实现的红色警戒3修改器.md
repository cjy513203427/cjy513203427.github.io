---
layout:     post                    # 使用的布局（不需要改）
title:      基于C++ Qt实现的红色警戒3修改器               # 标题 
subtitle:   红色警戒3原版V1修改器   #副标题
date:       2018-11-18             # 时间
author:     Rest探路者                      # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - C++
    - QT
---
<h2>前言</h2>
<p>这部修改器制作有一段时间了，但是一直没出教程。今天利用周末空闲写篇教程，给后来者指路的同时也加深自己对游戏修改器的理解，大佬就随便看看吧</p>
<p>浏览了一下网络，形形色色的单机游戏修改器教程，但是基本只实现了一到两个功能，GUI图形界面也没有。网站上能下载到的实现很多功能的修改器却又不开源，对新手不够友好</p>
<p>为什么选择红警3而不是其他游戏呢？</p>
<p>其一，它是单机游戏，制作网络游戏修改器（外挂）是违法的，根据《计算机信息网络国际联网安全保护管理办法》第六条规定：&ldquo;任何单位和个人不得从事下列危害计算机信息网络安全的活动"，尤其不能制作网游外挂并拿它去盈利</p>
<p>我不知道做网游外挂开源算不算违法，总之，与违法沾边的事我们别去触碰</p>
<p>其二，是一种情结，我玩的第一部真正意义上的游戏是红色警戒2尤里的复仇(扫雷，三维弹球不算)，那时候是2002年，我在上一年级，接触到这种RTSG游戏是爱不释手，从那时起，我就想成为一名游戏开发工程师，然而现在并不是</p>
<p>其三，画面还可以，本来想做红警2外挂的，奈何画面太老，观赏性差</p>
<p>其四，难度适中，网上有很多外挂入门教程是按照植物大战僵尸这款游戏制作的，难度过于入门，基址偏移量太少，偏移一般是直接偏移，只能说是小游戏，稍微大点的单机游戏，基址偏移次数可能会超过10次，比如在红色警戒3中，基址偏移次数最多达到9次，并且偏移量有坑等我们踩</p>
<p>最后一点，红警3在单机游戏中具有很强的代表性，只要学会了制作该外挂，其他单机游戏外挂原理是一样的</p>
<p>答疑解惑：</p>
<p>Q:这是脚本吗？</p>
<p>A:不是，这是通过修改内存，改变指定地址操作数实现的修改器，通俗地说，可以直接改变游戏数据。我写过简单的回合制脚本，请参考这篇<a href="https://www.cnblogs.com/Java-Starter/p/9571919.html#4057033" target="_blank"><strong>博文</strong></a></p>
<p>Q:这种外挂可以在红警3联机的时候使用吗？</p>
<p>A:不行，仅限于单人模式</p>
<p>Q:这款外挂支持的红警3版本</p>
<p>A:红色警戒3原版Version 1.00</p>
<p>&nbsp;</p>
<p>已完成的GUI(基于C++Qt5.7)如下，支持中英德三种语言；同时，我为萌新准备了C++实现的控制台版，不需要了解Qt即可实现本教程外挂的功能</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118114104855-1261377636.png" alt="" /></p>
<p>&nbsp;</p>
<h3>开发环境</h3>
<p>C++11</p>
<p>Qt 5.7 mingw53_32(控制台版不需要)</p>
<h3>工具</h3>
<p>QtCreator:制作Qt图形界面所需的开发工具，支持C++库</p>
<p>Visual Studio(版本最好2010以后):为控制台版而准备</p>
<p>Cheat Engine:寻找游戏基址所使用的工具，找基址的过程是枯燥乏味的，不用担心，我们有现成的<a href="https://www.cnblogs.com/Java-Starter/p/9943259.html" target="_blank"><strong>基址大全</strong></a></p>
<p>红色警戒3原版V1.00：逗游上可以下载</p>
<h2>汇编知识准备</h2>
<p>我只讲解制作该外挂过程中需要用到的汇编知识，不展开叙述。扩展知识园友可以自己去了解下</p>
<h3>汇编语言MOV指令：</h3>
<p>　　基本传送指令，Movement，把源操作数传送到目的操作数中</p>
<p>　　如MOV EAX 1000H，将十六进制数1000H传送给EAX(累加器)</p>
<h3>寻址方式：</h3>
<p>　　说明操作数所在地址的方法，有若干种寻址方式，不展开叙述，我们主要用到寄存器相对寻址</p>
<h3>寄存器相对寻址：</h3>
<p>　　有效地址 = 基址+变址+位移量</p>
<p>　　操作数的有效地址为基址寄存器(EBX)或变址寄存器(ESI或者EDI)的内容和指令中指定的位移量之和</p>
<p>　　如MOV ESI，[EDI + 00000768]</p>
<h3>游戏基址：</h3>
<p>　　也叫作基地址，顾名思义就可以理解为基本地址，他是相对偏移量的计算基准<br />
　　在实模式下，通常都是以段+偏移来定位地址，因此说，这时，段地址是基地址的一种　　</p>
<p>　　"-----&gt;"表示"指针指向"</p>
<p>　　基址(存放的内容是一级基址起始地址)&mdash;&mdash;&gt;一级基址(存放的内容是二级基址的起始地址:假定为a)</p>
<p>　　[一级基址(a) + 偏移量]------&gt;二级基址(存放的内容是三级基址的起始地址:假定为b);</p>
<p>　　[二级基址(b)+偏移量]--------&gt;三级基址</p>
<p>　　&middot;&middot;&middot;&middot;&middot;&middot;</p>
<p>　　n级基址--------&gt;游戏界面</p>
<p>　　自己制作游戏修改器必须要找到一级基址</p>
<p>&nbsp;　&nbsp;&nbsp; Cheat Engine的思路是根据偏移量从n级基址逆向找到一级基址</p>
<p>&nbsp;</p>
<h2>寻找基址</h2>
<p>右键图标属性，添加&ldquo; -win -xres 1024 -yres 768&rdquo;参数，1024 768是分辨率，自由指定你的分辨率，窗口启动红警3，方便调试</p>
<p>不知为何，我这台电脑窗口运行红警3写入内存的时候时常崩溃，所以我用的全屏启动</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118130915456-888419330.png" alt="" width="362" height="559" /></p>
<p>打开Cheat Engine，打开游戏进程</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118131119587-178879528.png" alt="" /></p>
<p>进入游戏</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118131313987-1270818306.png" alt="" width="1280" height="720" /></p>
<p>以查找金钱基址为例</p>
<p>搜索金钱数字10000，点击First Scan</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118131507907-1091197281.png" alt="" /></p>
<p>搜索到一系列值，此时改变游戏金钱，建造建筑或单位</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118132006633-211437491.png" alt="" /></p>
<p>&nbsp;</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118131745767-1798840737.png" alt="" width="1280" /></p>
<p>输入改变后的金钱9200，再点击Next Scan，可以看到只有四个地址，缩小了范围</p>
<p>&nbsp;<img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118132103466-308199428.png" alt="" /></p>
<p>&nbsp;修改它们的Value，看哪个是真的地址，结果第三个是真的（不一定都是第三个，每次搜索都不一样，切勿教条）</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118132228343-867705646.png" alt="" /></p>
<p>游戏金钱发生了变化</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118132316127-1418532487.png" alt="" width="1260" /></p>
<p>&nbsp;对下方选中的地址，按右键选中Find out what writes to this address</p>
<p>出现Confirmation，选yes</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118132425330-940752908.png" alt="" /></p>
<p>再次改变游戏的金钱，监测到MOV指令</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118132659586-1234385659.png" alt="" /></p>
<p>双击进入MOV指令，其他操作一概不看，只看标红字的MOV指令</p>
<p>我们来分析下这些内容</p>
<p>EAX=(0001675B)<sub>16</sub> = (91995)<sub>10</sub></p>
<p>EAX的值就是游戏中的金钱，是所谓的操作数</p>
<p>MOV[ESI+04],EAX</p>
<p>将EAX的值传送到以"ESI+04"为地址的内存区域</p>
<p>以"ESI+04"为地址的内存区域指向EAX</p>
<p>CE提示了我们，地址可能是ESI，记下ESI(源变址寄存器)的地址和偏移量04</p>
<p>&nbsp;<img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118132745973-1128611766.png" alt="" /></p>
<p>输入ESI的十六进制地址值，勾上Hex，New Scan-&gt;First Scan</p>
<p>&nbsp;<img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118133608834-1274388137.png" alt="" /></p>
<p>只搜索到一个地址，对其右键进入"Find out what accesses this Address",再次改变游戏金钱</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118133708915-850737183.png" alt="" /></p>
<p>MOV EAX,[ECX+EAX*4]</p>
<p>EAX*4的结果会非常的大，CE提示的地址和上一步一样，陷入了循环。似乎我们在这就要止步不前了</p>
<p>其实EAX = 0，0*4=0，所以偏移量为0</p>
<p>不经我们要思考，为什么EAX=0？</p>
<p>我用OllyDbg启动红警3，断点调试到这一步，请看右侧变量，EAX=00000000</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118201652253-78199654.png" alt="" /></p>
<p>在红色警戒3中，但凡遇到偏移量由乘法组成，如[ECA+EAX*4]，默认EAX为0就好了，不要被它吓到,不知道游戏开发商为什么这样子设计偏移量</p>
<p>干嘛偏移量不直接+0？也许就是为了给我们设一道难题吧</p>
<p>为了对新手足够友好，我不说OllyDbg，感兴趣的可以了解下</p>
<p>所以这里EAX等于以ECX为地址的值，不需要用CE推荐的地址了，</p>
<p>因为这里EAX=0，没有意义，记下来ECX的地址和偏移量0</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118133843911-1372589187.png" alt="" /></p>
<p>输入上步ECX的地址，搜索到一大堆结果，有点绝望，只能一个个试了，在这里没有技术含量，需要耐心</p>
<p>对每个地址右键"Find out what accesses this Address"，从上往下找，列举在上面的地址可能性最大，运气好第一个就是真实地址。记住，只看传送指令MOV</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118134336376-1423842333.png" alt="" /></p>
<p>果然，第一个是真实地址，记下ECX的地址和偏移量E4</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118190238349-1344574470.png" alt="" /></p>
<p>输入10C815A0，并搜索，又是一堆</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118190530242-876987033.png" alt="" /></p>
<p>老规矩，"Find out what accesses this Address"，在这记录下偏移量2C,我们看到ECX地址和上一步搜索的地址一致，陷入了循环</p>
<p>弃用之，采用CE推荐的基址10CA2728。这里你就要自己做判断，一般地址为0，地址和上步骤是一样的，不能用他们，</p>
<p>灵活地选用其他地址</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118190618278-400457120.png" alt="" /></p>
<p>输入10CA2728搜索，可以看到绿色结果，此地址为一级基址，也就是静态基址，我们终于找到了</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118191149937-1103416849.png" alt="" /></p>
<p>在CE中手动添加基址来测试找到的基址是否正确,单机Add Address Manually，输入我们刚才寻找的偏移量和基址</p>
<p>&nbsp;<img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118191727024-986332827.png" alt="" /></p>
<p>可以看到，一级基址经过四次偏移指向的地址，是五级地址，就是我们第一个扫描出来的地址</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118191937595-1338656067.png" alt="" /></p>
<p>&nbsp;</p>
<p>现在我们来总结</p>
<p>金钱的基址和偏移量如下</p>
<p>[[[[00DFBD74]+2C]+e4]+0]+4</p>
<p>[00DFBD74]是一个值，这个值不是00DFBD74，00DFBD74值存放的地址</p>
<p>在高级语言C++中，可以理解为</p>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">int</span> *<span style="color: #000000;">p;

p</span>=<span style="color: #000000;">00DFBD74;

</span>*p=10CA2728;</pre>
</div>
<p>一级基址：</p>
<p>[00DFBD74]=10CA2728</p>
<p>二级基址：</p>
<p>[一级基址]+偏移</p>
<p>[10CA2728+2C]=10237DB0</p>
<p>三级基址：</p>
<p>[[一级基址]+偏移]+偏移</p>
<p>[10237DB0+E4]=10C815A0</p>
<p>四级基址：</p>
<p>[[[一级基址]+偏移]+偏移]+偏移</p>
<p>[10C815A0+0]=1169BBF0</p>
<p>五级基址：</p>
<p>[[[[一级基址]+偏移]+偏移]+偏移]+偏移</p>
<p>1169BBF0+4=1169BBF4</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118192341062-578107535.png" alt="" /></p>
<p>大功告成，找其他基址方法类似，不做赘述。</p>
<p>&nbsp;</p>
<p>我在找金钱基址花了四十分钟，在EAX=0那里卡了好久，被第二次的偏移量坑了，最后终于找到。</p>
<p>找电力基址花了我将近一个小时才找到，所以我不建议大家在寻找基址上花费大量时间。在这里获取现成的<strong><a href="https://www.cnblogs.com/Java-Starter/p/9943259.html" target="_blank">基址</a></strong></p>
<p>我们应该把精力放在高级语言如何实现功能上</p>
<p>&nbsp;</p>
<h2>C++重要函数详解</h2>
<h3>ReadProcessMemory</h3>
<p>读取内存我们要用到ReadProcessMemory函数</p>
<p>函数功能：该函数从指定的进程中读入内存信息，被读取的区域必须具有访问权限。</p>
<p>函数原型：BOOL ReadProcessMemory(HANDLE hProcess,LPCVOID lpBaseAddress,LPVOID lpBuffer,DWORD nSize,LPDWORD lpNumberOfBytesRead)；</p>
<p>&nbsp;</p>
<p>參数：</p>
<p>hProcess：进程句柄</p>
<p>lpBaseAddress：读出数据的地址</p>
<p>lpBuffer：存放读取数据的地址</p>
<p>nSize：读入数据的字节数</p>
<p>lpNumberOfBytesRead：数据的实际大小</p>
<p>&nbsp;</p>
<h3>WriteProcessMemory</h3>
<p>写入内存我们需要WriteProcessMemory函数</p>
<div class="para">BOOL WriteProcessMemory(HANDLE hProcess,LPVOID lpBaseAddress,LPVOID lpBuffer,DWORD nSize,LPDWORD lpNumberOfBytesWritten</div>
<div class="para">);</div>
<p class="para">参数：</p>
<p class="para">hProcess：由OpenProcess返回的进程句柄。如参数传数据为 INVALID_HANDLE_VALUE 【即-1】目标进程为自身进程</p>
<p class="para">lpBaseAddress：要写的内存首地址，在写入之前，此函数将先检查目标地址是否可用，并能容纳待写入的数据、</p>
<p class="para">lpBuffer：指向要写的数据的指针</p>
<p class="para">nSize：要写入数据的字节数</p>
<p class="para">lpNumberOfBytesWritten：写入数据的大小</p>
<p class="para">&nbsp;</p>
<h2>C++控制台版</h2>
<p><span style="color: #ff0000;">全部代码</span></p>
<div class="cnblogs_code">
<pre>#include &lt;atlstr.h&gt;<span style="color: #000000;">
#include </span>&lt;Windows.h&gt;<span style="color: #000000;">
#include </span>&lt;iostream&gt;
<span style="color: #0000ff;">using</span> <span style="color: #0000ff;">namespace</span><span style="color: #000000;"> std;
</span><span style="color: #008000;">/*</span><span style="color: #008000;">
    作者：Jonas
    时间：2018/11/17
</span><span style="color: #008000;">*/</span>
<span style="color: #008000;">//</span><span style="color: #008000;">游戏基址1</span>
<span style="color: #0000ff;">int</span> g_nBaseAddr = <span style="color: #800080;">0x00DFBD74</span><span style="color: #000000;">;
</span><span style="color: #008000;">//</span><span style="color: #008000;">游戏基址2</span>
<span style="color: #0000ff;">int</span> g_otherBaseAddr = <span style="color: #800080;">0x00DEEA3C</span><span style="color: #000000;">;
</span><span style="color: #008000;">//</span><span style="color: #008000;">游戏句柄</span>
<span style="color: #000000;">HANDLE g_hProcess;

</span><span style="color: #008000;">//</span><span style="color: #008000;">根据基址计算出两次偏移后的地址</span>
<span style="color: #0000ff;">int</span> *get2Point(<span style="color: #0000ff;">int</span> g_nBaseAddr, <span style="color: #0000ff;">int</span> p1, <span style="color: #0000ff;">int</span><span style="color: #000000;"> p2)
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">iBase存储基地址指向的值，即iBase = [g_nBaseAddr]
    </span><span style="color: #008000;">//</span><span style="color: #008000;">iP1存储以iBase指向的值+偏移为地址所指向的值，即iP1 = [iBase]+p1
    </span><span style="color: #008000;">//</span><span style="color: #008000;">iP2存储最终地址</span>
    <span style="color: #0000ff;">int</span> iBase, iP1, *<span style="color: #000000;">iP2;
    </span><span style="color: #0000ff;">if</span> (!ReadProcessMemory(g_hProcess, (LPVOID)g_nBaseAddr, &amp;iBase, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL))
    {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
    }

    </span><span style="color: #0000ff;">if</span> (!ReadProcessMemory(g_hProcess, (LPVOID)(iBase + p1), &amp;iP1, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL))
    {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
    }

    </span><span style="color: #008000;">//</span><span style="color: #008000;">返回最终地址</span>
    iP2 = (<span style="color: #0000ff;">int</span> *)(iP1 +<span style="color: #000000;"> p2);
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> iP2;
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">根据基址计算出三次偏移后的地址</span>
<span style="color: #0000ff;">int</span> *get3Point(<span style="color: #0000ff;">int</span> g_nBaseAddr, <span style="color: #0000ff;">int</span> p1, <span style="color: #0000ff;">int</span> p2, <span style="color: #0000ff;">int</span><span style="color: #000000;"> p3)
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">原理同上，以此类推</span>
    <span style="color: #0000ff;">int</span> iBase, iP1, iP2, *<span style="color: #000000;">iP3;

    </span><span style="color: #0000ff;">if</span> (!ReadProcessMemory(g_hProcess, (LPVOID)g_nBaseAddr, &amp;iBase, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL))
    {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
    }

    </span><span style="color: #0000ff;">if</span> (!ReadProcessMemory(g_hProcess, (LPVOID)(iBase + p1), &amp;iP1, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL))
    {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
    }

    </span><span style="color: #0000ff;">if</span> (!ReadProcessMemory(g_hProcess, (LPVOID)(iP1 + p2), &amp;iP2, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL))
    {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
    }
    iP3 </span>= (<span style="color: #0000ff;">int</span> *)(iP2 +<span style="color: #000000;"> p3);
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> iP3;
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">根据基址计算出四次偏移后的地址</span>
<span style="color: #0000ff;">int</span> *get4Point(<span style="color: #0000ff;">int</span> g_nBaseAddr, <span style="color: #0000ff;">int</span> p1, <span style="color: #0000ff;">int</span> p2, <span style="color: #0000ff;">int</span> p3, <span style="color: #0000ff;">int</span><span style="color: #000000;"> p4)
{
    </span><span style="color: #808080;">///</span><span style="color: #008000;">/原理同上，以此类推</span>
    <span style="color: #0000ff;">int</span> iBase, iP1, iP2, iP3, *<span style="color: #000000;">iP4;

    </span><span style="color: #0000ff;">if</span> (!ReadProcessMemory(g_hProcess, (LPVOID)g_nBaseAddr, &amp;iBase, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL))
    {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
    }

    </span><span style="color: #0000ff;">if</span> (!ReadProcessMemory(g_hProcess, (LPVOID)(iBase + p1), &amp;iP1, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL))
    {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
    }

    </span><span style="color: #0000ff;">if</span> (!ReadProcessMemory(g_hProcess, (LPVOID)(iP1 + p2), &amp;iP2, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL))
    {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
    }

    </span><span style="color: #0000ff;">if</span> (!ReadProcessMemory(g_hProcess, (LPVOID)(iP2 + p3), &amp;iP3, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL))
    {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> NULL;
    }
    iP4 </span>= (<span style="color: #0000ff;">int</span> *)(iP3 +<span style="color: #000000;"> p4);
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> iP4;
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">改变电力</span>
<span style="color: #0000ff;">void</span><span style="color: #000000;"> ModifyElectricity()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">获取电力所在地址</span>
    <span style="color: #0000ff;">int</span> *pElec = get3Point(g_nBaseAddr, <span style="color: #800080;">0x2c</span>, <span style="color: #800080;">0x74</span>, <span style="color: #800080;">0x4</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">将电力修改为目标值</span>
    <span style="color: #0000ff;">int</span> nElecValue = <span style="color: #800080;">9999</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">修改</span>
    WriteProcessMemory(g_hProcess, pElec, &amp;nElecValue, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL);
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">修改策略值</span>
<span style="color: #0000ff;">void</span><span style="color: #000000;"> ModifyStrategy()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">获取策略所在地址</span>
    <span style="color: #0000ff;">int</span> *pStrategy = get3Point(g_nBaseAddr, <span style="color: #800080;">0x2c</span>, <span style="color: #800080;">0x1320</span>, <span style="color: #800080;">0x2c</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">将策略修改为目标值
    </span><span style="color: #008000;">//</span><span style="color: #008000;">策略值类型为float</span>
    <span style="color: #0000ff;">float</span> nElecStrategy = <span style="color: #800080;">4320</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">修改</span>
    WriteProcessMemory(g_hProcess, pStrategy, &amp;nElecStrategy, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL);
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">修改金钱</span>
<span style="color: #0000ff;">void</span><span style="color: #000000;"> ModifyMoney()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">获取金钱所在地址</span>
    <span style="color: #0000ff;">int</span> *pMoney = get4Point(g_nBaseAddr, <span style="color: #800080;">0x2c</span>, <span style="color: #800080;">0xe4</span>, <span style="color: #800080;">0x0</span>, <span style="color: #800080;">0x4</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">将金钱修改为目标值</span>
    <span style="color: #0000ff;">int</span> nElecMoney = <span style="color: #800080;">11111</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">修改</span>
    WriteProcessMemory(g_hProcess, pMoney, &amp;nElecMoney, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL);
}

</span><span style="color: #008000;">//</span><span style="color: #008000;">修改选取单位的大小
</span><span style="color: #008000;">//</span><span style="color: #008000;">支持选择单个单位对大小进行修改，多选会导致错乱</span>
<span style="color: #0000ff;">void</span><span style="color: #000000;"> ModifySizeOfUnit()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">获取单位大小所在地址</span>
    <span style="color: #0000ff;">int</span> *pSizeOfUnit = get3Point(g_otherBaseAddr, <span style="color: #800080;">0x50</span>, <span style="color: #800080;">0x8</span>, <span style="color: #800080;">0x25c</span><span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;">将单位大小修改为目标值</span>
    <span style="color: #0000ff;">float</span> nElecSizeOfUnit = <span style="color: #800080;">2</span><span style="color: #000000;">;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">修改</span>
    WriteProcessMemory(g_hProcess, pSizeOfUnit, &amp;nElecSizeOfUnit, <span style="color: #800080;">4</span><span style="color: #000000;">, NULL);
}

</span><span style="color: #0000ff;">int</span> _tmain(<span style="color: #0000ff;">int</span> argc, _TCHAR*<span style="color: #000000;"> argv[])
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">获取游戏窗口所在进程的进程ID，也就是PID</span>
    HWND hWnd = FindWindow(NULL, TEXT(<span style="color: #800000;">"</span><span style="color: #800000;">終極動員令：紅色警戒3</span><span style="color: #800000;">"</span><span style="color: #000000;">));
    </span><span style="color: #0000ff;">if</span> (NULL ==<span style="color: #000000;"> hWnd)
    {
        cout</span>&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">查找窗口失败</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
        getchar();
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    }

    DWORD dwProcessId;
    GetWindowThreadProcessId(hWnd, </span>&amp;<span style="color: #000000;">dwProcessId);
    cout</span>&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">进程ID:</span><span style="color: #800000;">"</span>&lt;&lt;dwProcessId&lt;&lt;<span style="color: #000000;">endl;

    </span><span style="color: #008000;">//</span><span style="color: #008000;">获取进程句柄</span>
    g_hProcess =<span style="color: #000000;"> OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId);
    </span><span style="color: #0000ff;">if</span> (NULL ==<span style="color: #000000;"> g_hProcess)
    {
        cout</span>&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">打开进程失败</span><span style="color: #800000;">"</span>&lt;&lt;<span style="color: #000000;">endl;
        getchar();
        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    }

    ModifyElectricity();
    ModifyMoney();
    ModifyStrategy();
    ModifySizeOfUnit();
    getchar();
    </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
}</span></pre>
</div>
<p>&nbsp;</p>
<p>运行效果如下，黑灯瞎火</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118202203158-778661753.png" alt="" /></p>
<p>打开游戏看看，金钱变成了11111，策略点加满，电力变成了9999，我选中的发电厂的大小是不是有些违和？</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118202342813-1461149988.png" alt="" width="1280" /></p>
<p>&nbsp;</p>
<h2>图形界面Qt版</h2>
<p>好，接下来，进入重头戏</p>
<p>ui界面布局设计如下</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118202626783-1160172149.png" alt="" width="1280" /></p>
<h3>要点解析</h3>
<h4>初始化句柄</h4>
<p>运行前要初始化句柄和检测进程是否打开</p>
<p>否则修改金钱、电力等方法句柄为空</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;">查看当前游戏进程是否打开
</span><span style="color: #008000;">//</span><span style="color: #008000;">初始化游戏句柄</span>
<span style="color: #0000ff;">void</span><span style="color: #000000;"> Ra3Window::checkProcessState()
{
    </span><span style="color: #008000;">//</span><span style="color: #008000;">获取游戏窗口所在进程的进程ID，也就是PID</span>
        HWND hWnd = FindWindow(NULL, TEXT(<span style="color: #800000;">"</span><span style="color: #800000;">終極動員令：紅色警戒3</span><span style="color: #800000;">"</span><span style="color: #000000;">));
        </span><span style="color: #0000ff;">if</span> (NULL ==<span style="color: #000000;"> hWnd)
        {
            </span><span style="color: #008000;">//</span><span style="color: #008000;">qDebug()&lt;&lt;"查找窗口失败"&lt;&lt;endl;</span>
            QMessageBox::information(<span style="color: #0000ff;">this</span>,<span style="color: #800000;">"</span><span style="color: #800000;">警告</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">未找到红色警戒3窗口</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }

        DWORD dwProcessId;
        GetWindowThreadProcessId(hWnd, </span>&amp;<span style="color: #000000;">dwProcessId);
        qDebug()</span>&lt;&lt;<span style="color: #800000;">"</span><span style="color: #800000;">进程ID:</span><span style="color: #800000;">"</span>&lt;&lt;dwProcessId&lt;&lt;<span style="color: #000000;">endl;

        </span><span style="color: #008000;">//</span><span style="color: #008000;">获取进程句柄</span>
        g_hProcess =<span style="color: #000000;"> OpenProcess(PROCESS_ALL_ACCESS, FALSE, dwProcessId);
        </span><span style="color: #0000ff;">if</span> (NULL ==<span style="color: #000000;"> g_hProcess)
        {
            QMessageBox::information(</span><span style="color: #0000ff;">this</span>,<span style="color: #800000;">"</span><span style="color: #800000;">警告</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">打开红色警戒3进程失败</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
}</span></pre>
</div>
<h4>Qt国际化</h4>
<p>在项目.pro添加</p>
<div class="cnblogs_code">
<pre>TRANSLATIONS =<span style="color: #000000;"> Translate_EN.ts\
                Translate_CN.ts\
                Translate_DE.ts</span></pre>
</div>
<p>工具-外部-Qt语言家-更新翻译</p>
<p>用以在项目根目录下生成刚才指定名称的ts文件</p>
<p>&nbsp;<img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118203327120-1385154207.png" alt="" width="1280" /></p>
<p>打开Linguist</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118203630621-356061382.png" alt="" /></p>
<p>打开ts文件，开始翻译吧。。。有道，德语助手各显神通。在译文出输入你的翻译内容</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118203756800-1645484069.png" alt="" width="1280" /></p>
<p>翻译过后，点击文件-发布全部。会在项目根目录下生成qm文件</p>
<p>代码中引用这些qm文件</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;">语言comboBox触发</span>
<span style="color: #0000ff;">void</span> Ra3Window::on_comboBox_2_activated(<span style="color: #0000ff;">int</span><span style="color: #000000;"> index)
{
    </span><span style="color: #0000ff;">switch</span><span style="color: #000000;">(index)
    {
        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">0</span><span style="color: #000000;">:
            m_Translator</span>-&gt;load(<span style="color: #800000;">"</span><span style="color: #800000;">./Translate_CN.qm</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">1</span><span style="color: #000000;">:
            m_Translator</span>-&gt;load(<span style="color: #800000;">"</span><span style="color: #800000;">./Translate_EN.qm</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">case</span> <span style="color: #800080;">2</span><span style="color: #000000;">:
            m_Translator</span>-&gt;load(<span style="color: #800000;">"</span><span style="color: #800000;">./Translate_DE.qm</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">default</span><span style="color: #000000;"> :
            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;
    }
    qApp</span>-&gt;<span style="color: #000000;">installTranslator(m_Translator);
}</span></pre>
</div>
<p>&nbsp;</p>
<h4>重写retranslateUi</h4>
<p>修复comboBox更换语言重置ui后不能保持原来选中的状态，意思是我在语言comboBox选中了英语，界面语言变化了，但是语言comboBox还是简体中文</p>
<p>观察源码发现，该函数把comboBox清空了</p>
<div class="cnblogs_code">
<pre><span style="color: #008000;">//</span><span style="color: #008000;">重写retranslateUi
</span><span style="color: #008000;">//</span><span style="color: #008000;">注释掉语言comboBox清空，修复语言状态错乱（只显示简体中文）
</span><span style="color: #008000;">//</span><span style="color: #008000;">不建议直接修改源码，复制出来重写</span>
<span style="color: #0000ff;">void</span> Ra3Window::retranslateUi(QMainWindow *<span style="color: #000000;">Ra3Window)
{
    Ra3Window</span>-&gt;setWindowTitle(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;label_3-&gt;setText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\347\255\226\347\225\245\345\212\240\346\273\241</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;pushButton_3-&gt;setText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\347\253\213\345\215\263\347\224\237\346\225\210</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;label_4-&gt;setText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\351\200\211\345\217\226\345\215\225\344\275\215</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;comboBox-&gt;<span style="color: #000000;">clear();
    ui</span>-&gt;comboBox-&gt;insertItems(<span style="color: #800080;">0</span><span style="color: #000000;">, QStringList()
     </span>&lt;&lt; QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\345\260\217</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR)
     </span>&lt;&lt; QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\346\240\207\345\207\206</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR)
     </span>&lt;&lt; QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\345\244\247</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR)
    );
    ui</span>-&gt;pushButton_4-&gt;setText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\347\253\213\345\215\263\347\224\237\346\225\210</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;textEdit-&gt;setHtml(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0//EN\" \"http://www.w3.org/TR/REC-html40/strict.dtd\"&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;html&gt;&lt;head&gt;&lt;meta name=\"qrichtext\" content=\"1\" /&gt;&lt;style type=\"text/css\"&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">p, li { white-space: pre-wrap; }\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;/style&gt;&lt;/head&gt;&lt;body style=\" font-family:'SimSun'; font-size:9pt; font-weight:400; font-style:normal;\"&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p align=\"center\" style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;\350\257\264\346\230\216&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;\351\207\221\351\222\261\357\274\232\350\276\223\345\205\245\351\207\221\351\222\261\346\225\260\351\242\235\357\274\214\345\206\215\347\202\271\345\207\273\345\217\263\344\276\247\342\200\234\347\253\213\345\215\263\347\224\237\346\225\210\342\200\235\346\214\211\351\222\256\357\274\214\345\215\263\345\217\257\350\216\267\345\276\227\346\214\207\345\256\232\347\232\204\351\207\221\351\222\261\346</span><span style="color: #800000;">"</span>
                    <span style="color: #800000;">"</span><span style="color: #800000;">\225\260&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;\347\224\265\345\212\233\357\274\232\350\276\223\345\205\245\347\224\265\345\212\233\345\200\274\357\274\214\345\206\215\347\202\271\345\207\273\345\217\263\344\276\247\342\200\234\347\253\213\345\215\263\347\224\237\346\225\210\342\200\235\346\214\211\351\222\256\357\274\214\345\215\263\345\217\257\350\216\267\345\276\227\346\214\207\345\256\232\347\232\204\347\224\265\345\212\233\345\200\274&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;\347\255\226\347\225\245\345\212\240\346\273\241\357\274\232\344\270\215\351\234\200\350\246\201\346\214\207\345\256\232\357\274\214\351\273\230\350\256\244\345\212\240\346\273\241&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;\351\200\211\345\217\226\345\215\225\344\275\215\357</span><span style="color: #800000;">"</span>
                    <span style="color: #800000;">"</span><span style="color: #800000;">\274\232\345\205\210\351\200\211\346\213\251\344\270\200\344\270\252\345\215\225\344\275\215\357\274\214\344\270\213\346\213\211\346\241\206\351\200\211\346\213\251\345\244\247\345\260\217\357\274\214\345\206\215\347\202\271\345\207\273\345\217\263\344\276\247\342\200\234\347\253\213\345\215\263\347\224\237\346\225\210\342\200\235\346\214\211\351\222\256\357\274\214\345\217\257\344\273\245\347\234\213\345\210\260\345\215\225\344\275\215\347\232\204\345\244\247\345\260\217\345\217\230\345\214\226\357\274\233\346\240\207\345\207\206\357\274\232\346\255\243\345\270\270\345\244\247\345\260\217\343\200\202&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;&lt;br /&gt;&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;&lt;br /&gt;&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0p</span><span style="color: #800000;">"</span>
                    <span style="color: #800000;">"</span><span style="color: #800000;">x; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;&lt;br /&gt;&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;&lt;br /&gt;&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p align=\"right\" style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;&lt;span style=\" font-size:8pt;\"&gt;\345\215\232\345\256\242\345\234\260\345\235\200\357\274\232https://www.cnblogs.com/Java-Starter/&lt;/span&gt;&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p align=\"right\" style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;&lt;span style=\" font-size:8pt;\"&gt;\344\273\205\344\276\233\345\255\246\344\271\240\344\272\244\346\265\201\357\274\214\344\270\245\347\246\201\345\225\206\347\224\250&lt;/span&gt;&lt;/p&gt;\n</span><span style="color: #800000;">"</span>
<span style="color: #800000;">"</span><span style="color: #800000;">&lt;p align=\"right\" style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"&gt;&lt;span style=\" font-size:8pt;\"&gt;                   \344\275\234\350</span><span style="color: #800000;">"</span>
                    <span style="color: #800000;">"</span><span style="color: #800000;">\200\205\357\274\232Jonas&lt;/span&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;label_5-&gt;setText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\350\257\255\350\250\200</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
</span><span style="color: #008000;">//</span><span style="color: #008000;">清空comboBox_2    ui-&gt;comboBox_2-&gt;clear();
</span><span style="color: #008000;">//</span><span style="color: #008000;">    ui-&gt;comboBox_2-&gt;insertItems(0, QStringList()
</span><span style="color: #008000;">//</span><span style="color: #008000;">     &lt;&lt; QApplication::translate("Ra3Window", "\347\256\200\344\275\223\344\270\255\346\226\207", Q_NULLPTR)
</span><span style="color: #008000;">//</span><span style="color: #008000;">     &lt;&lt; QApplication::translate("Ra3Window", "\350\213\261\350\257\255", Q_NULLPTR)
</span><span style="color: #008000;">//</span><span style="color: #008000;">     &lt;&lt; QApplication::translate("Ra3Window", "\345\276\267\350\257\255", Q_NULLPTR)
</span><span style="color: #008000;">//</span><span style="color: #008000;">    );</span>
    ui-&gt;lineEdit-&gt;setPlaceholderText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\350\276\223\345\205\245\351\207\221\351\222\261\346\225\260\351\242\235</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;label-&gt;setText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\351\207\221\351\222\261</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;pushButton-&gt;setText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\347\253\213\345\215\263\347\224\237\346\225\210</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;label_2-&gt;setText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\347\224\265\345\212\233</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;lineEdit_2-&gt;setPlaceholderText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\350\276\223\345\205\245\347\224\265\345\212\233\345\200\274</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
    ui</span>-&gt;pushButton_2-&gt;setText(QApplication::translate(<span style="color: #800000;">"</span><span style="color: #800000;">Ra3Window</span><span style="color: #800000;">"</span>, <span style="color: #800000;">"</span><span style="color: #800000;">\347\253\213\345\215\263\347\224\237\346\225\210</span><span style="color: #800000;">"</span><span style="color: #000000;">, Q_NULLPTR));
} </span><span style="color: #008000;">//</span><span style="color: #008000;"> retranslateUi</span></pre>
</div>
<h4>配置启动程序图标</h4>
<p>在项目根目录下新建ico.rc</p>
<p>记事本编辑之</p>
<p>IDI_ICON1 ICON&nbsp;&nbsp; DISCARDABLE&nbsp;&nbsp; "./images/ra3.ico"</p>
<p>准备好ico图标</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118204629344-37860696.png" alt="" /></p>
<p>&nbsp;</p>
<p>在项目.pro加入</p>
<div class="cnblogs_code">
<pre>OTHER_FILES +=<span style="color: #000000;"> ico.rc
RC_FILE </span>+= ico.rc</pre>
</div>
<p>&nbsp;Qt relase模式编译，即可看到生成图标</p>
<p>&nbsp;</p>
<h4>Qt项目打包发布</h4>
<p>打包Qt会给我们项目加上依赖环境，使项目在其他电脑上也可运行</p>
<p>园友可以试试不打包直接打开exe程序，会报各种dll找不到的错误</p>
<p>打开Qt 5.7 for Desktop</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118204927438-216650225.png" alt="" /></p>
<p>键入命令</p>
<p>windeployqt RA3_Cheat.exe</p>
<p>圆满完成，结束。</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118205144631-1160986507.png" alt="" /></p>
<h3>Qt版运行效果</h3>
<p>&nbsp;<img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118211532156-1126813225.png" alt="" /></p>
<p>修改金钱、电力，加满策略值，修改单位大小没什么用，就是好玩，可以改的非常大，设置10以上比将军刽子手还大，设置成0单位会&ldquo;消失&rdquo;</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118211457976-464557811.png" alt="" width="1280" /></p>
<h3>Qt源码</h3>
<p>Qt源码在这里：<a href="https://github.com/cjy513203427/RedAlert3_Cheater" target="_blank">https://github.com/cjy513203427/RedAlert3_Cheater</a></p>
<p>哈哈，我怎么放在CSDN上呢？。。。</p>
<p>直接可执行程序在/release目录下，打开RA3_Cheat.exe即可运行</p>
<p><img src="https://img2018.cnblogs.com/blog/1201453/201811/1201453-20181118205406029-236390759.png" alt="" width="699" height="470" /></p>
<p>&nbsp;</p>
<p>写得很累，希望新人看了我的教程就可以学会制作单机游戏外挂，知其然，知其所以然。大佬可以随便看看</p>